<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <title>Mi Plan Media Marat√≥n</title>
    
    <!-- Fuentes -->
    <link href="https://fonts.googleapis.com/css2?family=Bebas+Neue&family=Teko:wght@400;500;600&display=swap" rel="stylesheet">
    
    <!-- Tailwind CDN -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <style>
        body {
            font-family: 'Teko', sans-serif;
            background-color: #fefce8;
            -webkit-user-select: none;
            -webkit-tap-highlight-color: transparent;
            -webkit-touch-callout: none;
        }
        .bebas-neue {
            font-family: 'Bebas Neue', sans-serif;
            letter-spacing: 1px;
        }
        /* Scroll personalizado */
        ::-webkit-scrollbar {
            width: 6px;
            height: 6px;
        }
        ::-webkit-scrollbar-thumb {
            background-color: #b45309;
            border-radius: 3px;
        }
    </style>
</head>
<body class="antialiased">
    <div class="flex flex-col max-w-md mx-auto bg-amber-50 min-h-screen">
        <!-- Header -->
        <div class="bg-black px-4 py-3 text-amber-100 sticky top-0 z-10">
            <div class="flex justify-between items-center">
                <h2 class="text-xl font-bold tracking-wide bebas-neue">MI PLAN MEDIA MARAT√ìN</h2>
                <button id="todayButton" class="bg-amber-100 text-black text-xs px-3 py-1 rounded-full bebas-neue hover:bg-amber-200 transition">
                    HOY
                </button>
            </div>
        </div>
        
        <!-- Selector de Atleta -->
        <div class="bg-stone-700 px-4 py-2 flex justify-center sticky top-12 z-10">
            <div class="inline-flex rounded-md shadow-sm">
                <button id="athleteHombre" class="px-4 py-1 text-sm font-medium bg-green-900 text-amber-100 rounded-l-lg bebas-neue focus:z-10 hover:bg-green-800 transition">
                    HOMBRE
                </button>
                <button id="athleteMujer" class="px-4 py-1 text-sm font-medium bg-stone-600 text-amber-100 rounded-r-lg bebas-neue focus:z-10 hover:bg-stone-500 transition">
                    MUJER
                </button>
            </div>
        </div>
        
        <!-- Date Navigation -->
        <div class="flex justify-between items-center px-4 py-2 bg-stone-800 text-amber-100 sticky top-24 z-10">
            <button id="prevButton" class="p-1 hover:text-amber-400 bebas-neue text-lg transition">‚Üê ANTERIOR</button>
            <h3 id="currentDate" class="text-lg text-center text-amber-200 bebas-neue">20 de abril de 2025</h3>
            <button id="nextButton" class="p-1 hover:text-amber-400 bebas-neue text-lg transition">SIGUIENTE ‚Üí</button>
        </div>
        
        <!-- Today's Run -->
        <div class="p-4 bg-amber-800 text-white shadow-lg border-l-4 border-r-4 border-amber-400">
            <div class="flex items-center">
                <div class="bg-amber-100 rounded-full p-2 mr-3 shadow-md">
                    <span class="text-amber-800 font-bold">üèÉ</span>
                </div>
                <div>
                    <h4 class="text-sm text-amber-200 bebas-neue tracking-wider">ENTRENAMIENTO HOY</h4>
                    <p id="todaysRun" class="text-white text-xl teko font-medium">5km ritmo f√°cil</p>
                </div>
            </div>
        </div>
        
        <!-- Detalles -->
        <div class="px-4 py-4 bg-amber-50 flex-grow">
            <div class="rounded-lg shadow-md p-4 space-y-4 bg-white border border-stone-300">
                <div>
                    <h4 class="text-sm flex items-center text-stone-800 bebas-neue tracking-wider">
                        <span class="w-6 h-6 rounded-full bg-green-900 text-amber-100 flex items-center justify-center mr-2 text-xs font-bold">M</span>
                        MINDSET
                    </h4>
                    <p id="todaysMindset" class="text-black ml-8 teko text-lg">Visualizaci√≥n de metas</p>
                </div>
                <div>
                    <h4 class="text-sm flex items-center text-stone-800 bebas-neue tracking-wider">
                        <span class="w-6 h-6 rounded-full bg-green-900 text-amber-100 flex items-center justify-center mr-2 text-xs font-bold">S</span>
                        SPIRITUAL
                    </h4>
                    <p id="todaysSpiritual" class="text-black ml-8 teko text-lg">10 min meditaci√≥n</p>
                </div>
                <div>
                    <h4 class="text-sm flex items-center text-stone-800 bebas-neue tracking-wider">
                        <span class="w-6 h-6 rounded-full bg-green-900 text-amber-100 flex items-center justify-center mr-2 text-xs font-bold">N</span>
                        NUTRITION
                    </h4>
                    <p id="todaysNutrition" class="text-black ml-8 teko text-lg">Incrementar hidrataci√≥n</p>
                </div>
                <div>
                    <h4 class="text-sm flex items-center text-stone-800 bebas-neue tracking-wider">
                        <span class="w-6 h-6 rounded-full bg-green-900 text-amber-100 flex items-center justify-center mr-2 text-xs font-bold">‚úì</span>
                        NOTES
                    </h4>
                    <p id="todaysNotes" class="text-black ml-8 teko text-lg">Ritmo card√≠aco por debajo de 150</p>
                </div>
            </div>
        </div>
        
        <!-- Progress Bar -->
        <div class="px-4 pb-4 bg-amber-50">
            <div class="w-full bg-stone-200 rounded-full h-3 overflow-hidden border border-stone-300">
                <div id="progressBar" class="bg-green-900 h-3 transition-all duration-300" style="width: 8%;"></div>
            </div>
            <p id="weekProgress" class="text-xs text-center mt-1 text-stone-800 bebas-neue tracking-wider">SEMANA 1 DE 12</p>
        </div>
    </div>

<script>
  // ========== DATOS COMPLETOS DEL PLAN ==========
  const trainingPlan = {
    "athletes": {
      "hombre": [
        // Semana 1 (20-26/abr)
        {
          "date": "20/04/2025",
          "day": "Domingo",
          "workout": "Descanso activo (caminata 30')",
          "mindset": "Preparaci√≥n mental para comenzar",
          "spiritual": "Visualizaci√≥n de la meta final",
          "nutrition": "Hidrataci√≥n con electrolitos",
          "notes": "Preparar equipo para ma√±ana"
        },
        {
          "date": "21/04/2025",
          "day": "Lunes",
          "workout": "Descanso/Yoga",
          "mindset": "Mi cuerpo se prepara para la acci√≥n.",
          "spiritual": "Meditaci√≥n 5' con sonidos naturales.",
          "nutrition": "Enf√≥cate en prote√≠nas vegetales hoy.",
          "notes": "Pliality App: 'Recovery Flow'."
        },
        {
          "date": "22/04/2025",
          "day": "Martes",
          "workout": "6km @6:30/km",
          "mindset": "Paciencia = poder.",
          "spiritual": "Post-run: Anota 3 cosas que agradeces de tu cuerpo.",
          "nutrition": "Batido post-entreno con prote√≠na y pl√°tano.",
          "notes": "Zona 2, cadencia 170-180 spm."
        },
        {
          "date": "23/04/2025",
          "day": "Mi√©rcoles",
          "workout": "Fuerza: 3x15 (sentadillas, plancha, lunges)",
          "mindset": "Fuerza mental primero.",
          "spiritual": "Respiraci√≥n 4-7-8 durante ejercicios.",
          "nutrition": "Aumentar ingesta de prote√≠nas.",
          "notes": "Enfocar en t√©cnica."
        },
        {
          "date": "24/04/2025",
          "day": "Jueves",
          "workout": "Fartlek 8x1' r√°pido/2' lento",
          "mindset": "Juego con mi velocidad.",
          "spiritual": "Dedica intervalos a valores (ej: paciencia).",
          "nutrition": "Carbohidratos complejos pre-entreno.",
          "notes": "Usar reloj para intervalos."
        },
        {
          "date": "25/04/2025",
          "day": "Viernes",
          "workout": "Descanso activo (caminata 30')",
          "mindset": "Celebro mi consistencia.",
          "spiritual": "Observa 3 detalles en naturaleza.",
          "nutrition": "Smoothie antioxidante post-caminata.",
          "notes": "Descalzo en pasto opcional."
        },
        {
          "date": "26/04/2025",
          "day": "S√°bado",
          "workout": "8km @6:45/km",
          "mindset": "Cada km construye mi puente.",
          "spiritual": "'Vuelta de gratitud' (cada 2km).",
          "nutrition": "Desayuno completo pre-run.",
          "notes": "Ritmo conversacional."
        },
        // Semana 2 (27/abr - 3/may)
        {
          "date": "27/04/2025",
          "day": "Domingo",
          "workout": "Yoga/Estiramientos",
          "mindset": "Flexibilidad = longevidad.",
          "spiritual": "Mantra: 'Fluidez'.",
          "nutrition": "D√≠a de descarga metab√≥lica.",
          "notes": "Usar banda el√°stica para movilidad."
        }
        // ... (continuar con el resto de semanas)
      ],
      "mujer": [
        // Semana 1 (20-26/abr)
        {
          "date": "20/04/2025",
          "day": "Domingo",
          "workout": "Caminata 30' + estiramientos",
          "mindset": "Mentalidad de principiante",
          "spiritual": "Respiraci√≥n consciente",
          "nutrition": "Agua con lim√≥n",
          "notes": "Estiramientos suaves"
        },
        {
          "date": "21/04/2025",
          "day": "Lunes",
          "workout": "Descanso/Yoga",
          "mindset": "Honro mi punto de partida.",
          "spiritual": "Intenci√≥n: 'Alegr√≠a en el proceso'.",
          "nutrition": "Desayuno rico en fibra.",
          "notes": "15-min 'Gentle Flow' en Pliality."
        },
        {
          "date": "22/04/2025",
          "day": "Martes",
          "workout": "4km (3' jog/1' walk)",
          "mindset": "Peque√±os pasos, grandes cambios.",
          "spiritual": "Dedica esta run a 'auto-confianza'.",
          "nutrition": "Hidrataci√≥n constante durante el d√≠a.",
          "notes": "Usar cron√≥metro para intervalos."
        }
        // ... (continuar con el resto de semanas)
      ]
    }
  };

  // ========== CONFIGURACI√ìN INICIAL ==========
  let currentAthlete = "hombre";
  let today = getCurrentDate();
  let selectedDate = today;
  
  // ========== ELEMENTOS DEL DOM ==========
  const currentDateEl = document.getElementById('currentDate');
  const todaysRunEl = document.getElementById('todaysRun');
  const todaysMindsetEl = document.getElementById('todaysMindset');
  const todaysSpiritualEl = document.getElementById('todaysSpiritual');
  const todaysNutritionEl = document.getElementById('todaysNutrition');
  const todaysNotesEl = document.getElementById('todaysNotes');
  const progressBarEl = document.getElementById('progressBar');
  const weekProgressEl = document.getElementById('weekProgress');
  const athleteHombreBtn = document.getElementById('athleteHombre');
  const athleteMujerBtn = document.getElementById('athleteMujer');

  // ========== EVENT LISTENERS ==========
  document.getElementById('prevButton').addEventListener('click', navigatePrev);
  document.getElementById('nextButton').addEventListener('click', navigateNext);
  document.getElementById('todayButton').addEventListener('click', resetToToday);
  athleteHombreBtn.addEventListener('click', () => switchAthlete('hombre'));
  athleteMujerBtn.addEventListener('click', () => switchAthlete('mujer'));

  // ========== FUNCIONES PRINCIPALES ==========
  function navigateNext() {
      const date = new Date(selectedDate);
      date.setDate(date.getDate() + 1);
      selectedDate = date.toISOString().split('T')[0];
      updateDisplay();
  }
  
  function navigatePrev() {
      const date = new Date(selectedDate);
      date.setDate(date.getDate() - 1);
      selectedDate = date.toISOString().split('T')[0];
      updateDisplay();
  }
  
  function resetToToday() {
      selectedDate = today;
      updateDisplay();
  }
  
  function switchAthlete(athlete) {
      currentAthlete = athlete;
      if (athlete === 'hombre') {
          athleteHombreBtn.classList.remove('bg-stone-600');
          athleteHombreBtn.classList.add('bg-green-900');
          athleteMujerBtn.classList.remove('bg-green-900');
          athleteMujerBtn.classList.add('bg-stone-600');
      } else {
          athleteMujerBtn.classList.remove('bg-stone-600');
          athleteMujerBtn.classList.add('bg-green-900');
          athleteHombreBtn.classList.remove('bg-green-900');
          athleteHombreBtn.classList.add('bg-stone-600');
      }
      updateDisplay();
  }

  function formatDisplayDate(dateString) {
      const date = new Date(dateString);
      const adjustedDate = new Date(date.getTime() + date.getTimezoneOffset() * 60000);
      const options = { weekday: 'long', year: 'numeric', month: 'long', day: 'numeric' };
      return adjustedDate.toLocaleDateString('es-ES', options);
  }

  function getCurrentDate() {
      const now = new Date();
      return new Date(now.getTime() - now.getTimezoneOffset() * 60000).toISOString().split('T')[0];
  }

  function getWeekNumber(selectedDate) {
      const startDate = new Date('2025-04-20');
      const currentDate = new Date(selectedDate);
      const diffTime = currentDate - startDate;
      const diffDays = Math.ceil(diffTime / (1000 * 60 * 60 * 24));
      return Math.min(12, Math.max(1, Math.floor(diffDays / 7) + 1));
  }

  function updateDisplay() {
      // Formatear fecha para mostrar
      currentDateEl.textContent = formatDisplayDate(selectedDate).toUpperCase();
      
      // Convertir fecha al formato DD/MM/YYYY para buscar en los datos
      const dateParts = selectedDate.split('-');
      const formattedDate = `${dateParts[2]}/${dateParts[1]}/${dateParts[0]}`;
      
      // Buscar el entrenamiento del d√≠a
      const athletePlan = trainingPlan.athletes[currentAthlete];
      const foundDay = athletePlan.find(day => day.date === formattedDate);
      
      // Actualizar la interfaz
      if (foundDay) {
          todaysRunEl.textContent = foundDay.workout;
          todaysMindsetEl.textContent = foundDay.mindset;
          todaysSpiritualEl.textContent = foundDay.spiritual;
          todaysNutritionEl.textContent = foundDay.nutrition || "-";
          todaysNotesEl.textContent = foundDay.notes || "-";
          
          // Actualizar progreso semanal
          const weekNumber = getWeekNumber(selectedDate);
          const progressPercentage = Math.min(100, (weekNumber / 12) * 100);
          progressBarEl.style.width = `${progressPercentage}%`;
          weekProgressEl.textContent = `SEMANA ${weekNumber} DE 12`;
      } else {
          todaysRunEl.textContent = "No hay entrenamiento programado";
          todaysMindsetEl.textContent = "-";
          todaysSpiritualEl.textContent = "-";
          todaysNutritionEl.textContent = "-";
          todaysNotesEl.textContent = "-";
      }
  }

  // ========== INICIALIZACI√ìN ==========
  switchAthlete('hombre');
  updateDisplay();
</script>
</body>
</html>
